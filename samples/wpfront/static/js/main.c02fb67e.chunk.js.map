{"version":3,"sources":["components/Modal/Portal.js","components/Modal/index.js","components/Modal/useModal.js","dataFetcher.js","components/Menu/index.js","components/Tags/index.js","components/RecentPosts/Post.js","dateHelpers.js","components/RecentPosts/Feed.js","components/RecentPosts/index.js","components/Shop/Showcase.js","components/Shop/index.js","App.js","Info.js","reportWebVitals.js","index.js"],"names":["Portal","children","modalRoot","document","getElementById","createElement","setAttribute","appendChild","modalElement","classList","add","useEffect","removeChild","createPortal","preprocess","html","replaceAll","styled","styles","Modal","close","page","title","className","onClick","toLowerCase","dangerouslySetInnerHTML","__html","useModal","useState","open","onOpenModal","onCloseModal","openModal","closeModal","dataFetcher","service","a","fetch","response","json","data","Menu","collapsed","toggle","selected","select","pagesHTML","addPage","all","contact","modalServices","showModal","e","option","target","getAttribute","querySelector","then","remove","rendered","content","data-option","Tags","ids","tags","setTags","join","map","tag","name","id","fetchTags","loaded","length","Post","post","Timestamp","dateString","dateOptions","timeOptions","date","Date","toLocaleDateString","time","toLocaleTimeString","formatDate","timestamp","weekday","month","year","day","hour","minute","excerpt","modified","Feed","posts","setPosts","RecentPosts","collapse","Showcase","first","last","excluding","selectors","callback","slided","nodes","setNodes","allCategories","value","categories","setCategories","DOMParser","parseFromString","parsed","exclusors","c","concat","Array","from","querySelectorAll","Heading","Selectors","values","label","includes","key","filter","k","n","picture","description","selectorClasses","s","contains","hidden","some","innerHTML","prepareHtml","Shop","books","showBooks","slide","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.c02fb67e.chunk.js","sourcesContent":["import { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\nconst Portal = ({children}) => {\r\n  let modalRoot = document.getElementById(\"modal\");\r\n\r\n  if (!modalRoot) {\r\n    modalRoot = document.createElement(\"div\");\r\n    modalRoot.setAttribute(\"id\", \"modal\");\r\n    document.getElementById(\"root\").appendChild(modalRoot);\r\n  }\r\n\r\n  const modalElement = document.createElement(\"div\");\r\n  modalElement.classList.add(\"modal\");\r\n\r\n  useEffect(() => {\r\n    modalRoot.appendChild(modalElement);\r\n    return () => modalRoot.removeChild(modalElement);\r\n  })\r\n\r\n  return createPortal(children, modalElement);\r\n}\r\n\r\nexport default Portal;","import React from 'react';\r\nimport Portal from './Portal';\r\nimport './styles.css';\r\n\r\nconst preprocess = html => {\r\n  return html.replaceAll(/\\[.*\\]/g, \"\").replaceAll(\"<p></p>\", \"\")\r\n}\r\n\r\nconst styled = (styles, html) => {\r\n  return (\r\n    `\r\n    <style>\r\n      ${styles}\r\n    </style>\r\n    ${html}\r\n    `\r\n  )}\r\n\r\nconst Modal = ({close, page}) => {\r\n  const {title, html, styles} = page || {title: '', html: '', styles: ''}\r\n  return (\r\n    <Portal>\r\n      <div className=\"x\" onClick={close}/>\r\n      <h1 className=\"modal-title\">{title.toLowerCase()}</h1>\r\n      <div className=\"contents\" dangerouslySetInnerHTML={{__html: styled(styles, preprocess(html))}} />\r\n    </Portal>\r\n  ) \r\n}\r\n\r\nexport default Modal;","import { useState } from 'react';\r\n\r\nconst useModal = () => {\r\n  const [open, onOpenModal] = useState(false);\r\n  const [close, onCloseModal] = useState(false);\r\n\r\n  const openModal = () => {\r\n    onOpenModal(true);\r\n  }\r\n\r\n  const closeModal = () => {\r\n    onCloseModal(true);\r\n    onOpenModal(false);\r\n  }\r\n\r\n  return { open, close, openModal, closeModal }\r\n}\r\n\r\nexport default useModal;","const ENDPOINT_ROOT = \"https://editorialcerbero.com/wp-json/wp/v2/\";\r\n\r\nconst dataFetcher = async service => {\r\n  const response = await fetch(`${ENDPOINT_ROOT}${service}`);\r\n  const data = await response.json();\r\n  return data;\r\n}\r\n\r\nexport default dataFetcher;","import React, { useState } from 'react';\r\nimport Modal from '../Modal';\r\nimport useModal from '../Modal/useModal';\r\nimport dataFetcher from '../../dataFetcher';\r\n\r\nimport \"./styles.css\";\r\n\r\nconst Menu = () => {\r\n  const [collapsed, toggle] = useState(true);\r\n  const [selected, select] = useState({});\r\n  const { open, openModal, closeModal } = useModal();\r\n\r\n  const [pagesHTML, addPage] = useState({});\r\n\r\n  const styles = {\r\n    all: `\r\n      h3 {\r\n        padding: 1em 0;\r\n      }\r\n      \r\n      li {\r\n        padding-top: 0.5em;\r\n        margin-left: 3em;\r\n      }\r\n      \r\n      ul {\r\n        padding-bottom: 1em;\r\n      }`,\r\n    contact: `\r\n    .HYPE_element {\r\n      margin: 0.5em 0;\r\n    }\r\n    \r\n    .HYPE_element > div {\r\n      margin-bottom: 0.5em;\r\n    }\r\n    \r\n    hr {\r\n      margin: 1.5em 0;\r\n    }\r\n    \r\n    div > strong {\r\n      display: block;\r\n      margin: 0.5em 0\r\n    }\r\n    \r\n    input[type='submit'] {\r\n      cursor: pointer;\r\n      padding: 0.5em;\r\n      border-radius: 0.5em;\r\n      background-color: rgb(77, 77, 179);\r\n      color: whitesmoke;\r\n      font-weight: bold;\r\n    }`\r\n  }\r\n\r\n  const modalServices = {\r\n    'originals': 'pages/2878',\r\n    'contact': 'pages/11'\r\n  }\r\n\r\n  const showModal = (e) => {\r\n    const option = e.target.getAttribute('data-option');\r\n    if (!pagesHTML[option]) {\r\n      document.querySelector(\"#root\").classList.add('loading');\r\n      dataFetcher(modalServices[option]).then(data => {\r\n        document.querySelector(\"#root\").classList.remove('loading');\r\n        addPage({...pagesHTML, [option]: {title: data.title.rendered, html: data.content.rendered, styles: `${styles.all} ${styles[option] || \"\"}`}})\r\n      }).then(() => select(option))\r\n    } else {\r\n       select(option);\r\n    }\r\n    openModal();\r\n    toggle(!collapsed);\r\n  }\r\n\r\n  return (\r\n    <div className={`collapsible ${collapsed ? \"collapsed\" : \"\"} noselect`}>\r\n      <div className=\"menu\">\r\n        <p onClick={showModal} data-option='originals'>Manuscritos</p>\r\n        <p onClick={showModal} data-option='contact'>Contacto</p>\r\n        <p>Mi cuenta</p>\r\n      </div>\r\n      <div className=\"tab\" onClick={() => toggle(!collapsed)}/>\r\n      { (open && selected) ?\r\n         <Modal close={closeModal} page={pagesHTML[selected]} /> :\r\n         null }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Menu;","import React, { useEffect, useState } from 'react';\r\nimport dataFetcher from '../../dataFetcher';\r\nimport './styles.css';\r\n\r\nconst fetchTags = ids => {\r\n  const service = `tags?include=${ids.join(',')}`;\r\n  return dataFetcher(service).then(data => {\r\n    return data.map(tag => <span key={tag.id} className=\"tag\">{tag.name}</span>);\r\n  })\r\n}\r\n\r\nconst Tags = ({ids}) => {\r\n  const [tags, setTags] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchTags(ids).then(loaded => setTags(loaded));\r\n  })\r\n\r\n  if (!ids || (ids.length === 0)) return null;\r\n  return (\r\n    <div className=\"tags\">\r\n      {tags}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Tags;","import React from 'react';\r\nimport Tags from '../Tags';\r\nimport { formatDate }from '../../dateHelpers';\r\nimport useModal from '../Modal/useModal';\r\nimport Modal from '../Modal';\r\n\r\nconst Post = ({post}) => {\r\n  const Timestamp = ({timestamp}) =>{\r\n    const dateOptions = {weekday: 'long', month: '2-digit', year: 'numeric', day: 'numeric'}\r\n    const timeOptions = {hour: '2-digit', minute: '2-digit' }\r\n\r\n    const {date, time} = formatDate(timestamp, dateOptions, timeOptions);\r\n    return <div className=\"timestamp\">\r\n      {`Publicado el ${date} a las ${time}`}\r\n    </div>\r\n  }\r\n\r\n  const { excerpt, title, tags, modified, content} = post;\r\n  const { open, openModal, closeModal } = useModal();\r\n \r\n  return (\r\n    <div className=\"post\">\r\n      <h2>{title.rendered}<div className=\"fullscreen\" onClick={openModal} /></h2>\r\n      <span className=\"content\" dangerouslySetInnerHTML={ {__html: excerpt.rendered} } />\r\n      <Timestamp timestamp={modified} />\r\n      <Tags ids={tags} />\r\n      { open ?\r\n        <Modal close={closeModal} page={{title: title.rendered, html: content.rendered}} /> :\r\n        null }\r\n    </div> \r\n  )\r\n}\r\n\r\nexport default Post;","const formatDate = (dateString, dateOptions, timeOptions) => {\r\n  const date = new Date(dateString)\r\n  return {\r\n    date: `${date.toLocaleDateString('es-ES', dateOptions)}`,\r\n    time: `${date.toLocaleTimeString('es-ES', timeOptions)}`\r\n  }\r\n}\r\n\r\nexport { formatDate };","import React, { useEffect, useState } from 'react';\r\nimport dataFetcher from '../../dataFetcher';\r\nimport Post from './Post';\r\n\r\nconst PAGE_SIZE = 5;\r\n\r\nconst fetchPosts = page => {\r\n  return dataFetcher(`posts?page=${page}&per_page=${PAGE_SIZE}`).then(data => {\r\n    return data.map(post => <Post key={post.id} post={post} />)\r\n  });\r\n}\r\n\r\nconst Feed = ({collapsed}) => {\r\n  const [posts, setPosts] = useState([]);\r\n  \r\n  useEffect(() => {\r\n    if (posts.length === 0) {\r\n      fetchPosts(1).then(loaded => setPosts(loaded))\r\n    }\r\n  })\r\n\r\n  return (\r\n    <div className={`feed ${collapsed ? \"collapsed\" : \"\"}`}>\r\n      {posts}\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Feed;","import React, { useState } from 'react';\r\nimport Feed from './Feed';\r\nimport './styles.css';\r\n\r\nconst RecentPosts = () => {\r\n  const [collapsed, collapse] = useState(false);\r\n  return (\r\n    <div className=\"posts-container noselect\">\r\n      <div className={`caption ${collapsed ? \"collapsed\" : \"\" }`}>Posts más recientes\r\n        <div className={`toggle ${collapsed ? \"expand\" : \"\"}`} onClick={()=> collapse(!collapsed)}/>\r\n      </div>\r\n      <Feed collapsed={collapsed} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default RecentPosts;","import React, { useEffect, useState } from 'react';\r\nimport dataFetcher from '../../dataFetcher';\r\nimport './styles.css';\r\n\r\nconst Showcase = ({title, first, last, service, excluding, selectors, callback, slided}) => {\r\n  const [nodes, setNodes] = useState([]);\r\n  const allCategories = (selectors || []).map(({value}) => value);\r\n  const [categories, setCategories] = useState(allCategories)\r\n\r\n  useEffect(() => {\r\n    if (nodes.length === 0) {\r\n      return dataFetcher(service).then(data => {\r\n        const parser = new DOMParser();\r\n        return parser.parseFromString(data.content.rendered, 'text/html');\r\n      }).then(parsed => {\r\n        const exclusors = (excluding || []).map(c => `:not(.${c})`).join(\"\");\r\n        setNodes(nodes.concat(Array.from(parsed.querySelectorAll(`li.type-product${exclusors}`))));\r\n      });\r\n    }\r\n  })\r\n\r\n  const Heading = ({title, first, last}) => {\r\n    return (\r\n      <div className=\"heading\">\r\n        {!first && <div className=\"slider prev\" onClick={callback} />}\r\n        <h1>{title}</h1>\r\n        {!last && <div className=\"slider next\" onClick={callback} />}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const toggleFilter = (key) => {\r\n    setCategories(categories.includes(key) ? categories.filter(k => k !== key) : [...categories, key])\r\n  }\r\n\r\n  const Selectors = ({values}) => {\r\n    return (\r\n      <div className=\"selectors\">\r\n        {\r\n          values.map(({value, label}) => {\r\n            return (\r\n              <div key={value} className={`selector ${value} ${categories.includes(value) ? 'on' : ''}`} onClick={() => toggleFilter(value)}>\r\n                {label}\r\n              </div>\r\n            )\r\n          })\r\n        }\r\n        { (categories.length != allCategories.length) ? <div className=\"clear\" onClick={() => setCategories(allCategories)}/> : null }\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const prepareHtml = (nodes) => {\r\n    return nodes.map(n => {\r\n      const picture = n.querySelector(\".product-image > a > .inner\");\r\n      const description = n.querySelector(\".description\");\r\n     \r\n      const selectorClasses = (selectors || []).filter(s => n.classList.contains(s.value));\r\n      const hidden = (categories.length > 0) && (!selectorClasses.some(({value}) => categories.includes(value)));\r\n\r\n      return `\r\n        <div class=\"product ${selectorClasses.map(s => s.value).join(' ')} ${hidden ? 'hidden' : ''}\">\r\n          <div class=\"product-inner\">\r\n            <div class=\"front\">\r\n              ${picture.innerHTML}\r\n            </div>\r\n            <div class=\"back\">\r\n              ${description.innerHTML}\r\n            </div>\r\n          </div>\r\n        </div>`\r\n    }).join(\" \");\r\n  }\r\n\r\n  return (\r\n    <div className={`showcase noselect ${first ? \"first\" : \"\"} ${last ? \"last\" : \"\"} ${slided ? 'slided' : ''}`}>\r\n      <Heading title={title} first={first} last={last} />\r\n      {selectors && <Selectors values={selectors} />}\r\n      <div className=\"content\"\r\n           dangerouslySetInnerHTML={{__html: prepareHtml(nodes) }} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Showcase;","import React, { useState } from 'react';\r\nimport Showcase from './Showcase';\r\nimport './styles.css';\r\n\r\nconst Shop = () => {\r\n  const [books, showBooks] = useState(true);\r\n  const bookSelectors = [\r\n    {value: \"product_cat-fantasia\", label: \"Fantasía\"},\r\n    {value: \"product_cat-juvenil\", label: \"Juvenil\"},\r\n    {value: \"product_cat-ciencia-ficcion\", label: \"Ciencia-Ficción\"},\r\n    {value: \"product_cat-terror\", label: \"Terror\"}\r\n  ]\r\n\r\n  const slide = () => {\r\n    showBooks(!books)\r\n  }\r\n\r\n  return (\r\n    <div className=\"shop\">\r\n      <Showcase title=\"Nuestros libros\" slided={!books} first={true} service=\"pages/37\" excluding={[\"product_cat-merchandising\"]} selectors={bookSelectors} callback={slide} />\r\n      <Showcase title=\"Merchandising\" slided={!books} last={true} service=\"pages/777\" callback={slide} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Shop;","import './App.css';\r\nimport Menu from './components/Menu';\r\nimport RecentPosts from './components/RecentPosts';\r\nimport Shop from './components/Shop';\r\nimport useModal from './components/Modal/useModal';\r\nimport Modal from './components/Modal';\r\nimport { infoStyles, infoHTML } from './Info'\r\n\r\nfunction App() {\r\n  const { open, openModal, closeModal } = useModal();\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"info\" onClick={openModal} />\r\n      <Menu />\r\n      <RecentPosts />\r\n      <Shop />\r\n      <div className=\"signature noselect\">\r\n        <b>m&ugrave; gu&#x00101;</b>&nbsp;perpetr&oacute; esta web\r\n      </div>\r\n      { open ? \r\n        <Modal close={closeModal} page={{title: '¿Qué es esto?', html: infoHTML, styles: infoStyles}} /> :\r\n        null }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const infoStyles = `\r\n.modal {\r\n  background-color: transparent;\r\n}\r\n\r\n.modal-title, .what {\r\n  background-color: rgba(245, 245, 245, 0.9);\r\n}\r\n\r\n@keyframes fade-in {\r\n  from  { opacity: 0%; }\r\n  to    { opacity: 100%; }\r\n}\r\n\r\n.bubble {\r\n  position: absolute;\r\n  background-color: rgb(245, 222, 179);\r\n  text-align: justify;\r\n  font-size: 0.8em;\r\n  width: 15vw;\r\n  padding: 1.5em;\r\n  border-radius: 1em;\r\n  opacity: 0;\r\n  animation-name: fade-in;\r\n  animation-duration: 0.3s;\r\n  animation-fill-mode: forwards;\r\n}\r\n\r\n.posts {\r\n  bottom: 5%;\r\n  left: 20%;\r\n  animation-delay: 1s;\r\n}\r\n\r\n.posts:before {\r\n  content: \"\";\r\n  position: absolute;\r\n  top: -45px;\r\n  left: 0;\r\n  height: 45px;\r\n  width: 40px;\r\n  border-bottom-left-radius: 50%;\r\n  background: transparent;\r\n  box-shadow: 0 20px 0 0 rgb(245, 222, 179);\r\n}\r\n\r\n\r\n.products {\r\n  top: 5%;\r\n  left: 20%;\r\n  animation-delay: 2s;\r\n}\r\n\r\n.products::after {\r\n  content: \"\";\r\n  position: absolute;\r\n  bottom: 0;\r\n  right: -40px;\r\n  height: 45px;\r\n  width: 40px;\r\n  border-bottom-left-radius: 50%;\r\n  background: transparent;\r\n  box-shadow: -20px 0 0 0 rgb(245, 222, 179);\r\n}\r\n\r\n.modal .menu {\r\n  bottom: 5%;\r\n  left: 1em;\r\n  animation-delay: 3s;\r\n}\r\n\r\n.modal .menu::before {\r\n  content: \"\";\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: -40px;\r\n  height: 45px;\r\n  width: 40px;\r\n  border-bottom-right-radius: 50%;\r\n  background: transparent;\r\n  box-shadow: 20px 0 0 0 rgb(245, 222, 179);\r\n}\r\n\r\n.solution {\r\n  animation-delay: 4.5s;\r\n  left: 50%;\r\n  top: 40%;\r\n  width: 40%;\r\n}\r\n\r\n.solution li {\r\n  margin-left: 2em;\r\n  margin-top: 0.5em;\r\n}\r\n\r\n.info-container {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n`;\r\n\r\nconst infoHTML = `\r\n  <div class=\"info-container noselect\">\r\n    <div class=\"what\">\r\n      Se trata de una aplicación Web semi-estática que demuestra una interacción básica con WordPress.\r\n    </div>\r\n    <div class=\"bubble posts\">\r\n      Esta es una lista con los posts más recientes. En una aplicación real, podría añadirse <i>scroll</i> infinito, filtrado por etiquetas, búsqueda por fecha, título, autor o texto, personalización del\r\n      orden o del número de posts recuperados cada vez&hellip;\r\n    </div>\r\n    <div class=\"bubble products\">\r\n      Esta información sale de las páginas de los productos. En un caso real podría mostrarse la página de detalle o incluso interactuar con WooCommerce para disponer de la\r\n      funcionalidad de tienda online.\r\n    </div>\r\n    <div class=\"bubble menu\">\r\n      Desde el menú se abren páginas estáticas de WordPress, superponiéndolas a la página principal de la aplicación.\r\n    </div>\r\n    <div class=\"bubble solution\">\r\n      Una solución de este tipo tiene varias ventajas:\r\n      <ul>\r\n        <li>No tienes que cambiar la forma en la que gestionas tus contenidos, puedes seguir usando WordPress para añadir artículos o productos.</li>\r\n        <li>No es necesario desarrollar un servidor para la aplicación que presenta los contenidos, por lo que no supone un coste adicional para alojarla.</li>\r\n        <li>Tienes absoluta libertad de decidir cómo quieres mostrar tus contenidos, sin las limitaciones que puedan imponer las plantillas de WordPress.</li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n`;\r\n\r\nexport { infoStyles, infoHTML };","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}